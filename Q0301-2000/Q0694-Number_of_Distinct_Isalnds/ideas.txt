Hash by path signature

Time complexity: O(mn).
Space complexity : O(mn).
